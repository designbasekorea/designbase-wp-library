/**
 * Table Component
 */
@use "../basic/index" as *;
@use "sass:color";

/**
 * DesignBase Frontend Kit - 테이블 컴포넌트
 * 데이터 표시를 위한 테이블 스타일을 정의
 */

.dewp-table {
    width: 100%;
    margin-bottom: $margin-l;
    color: $text-primary;
    background-color: $bg-primary;
    border-collapse: collapse;
    border: 1px solid $border-01;
    border-radius: $radius-3;
    overflow: hidden;

    th,
    td {
        padding: $padding-s $padding-l;
        text-align: left;
        vertical-align: middle;
        border-bottom: 1px solid $border-01;
    }

    th {
        background-color: $bg-secondary;
        font-weight: $font-weight-semibold;
        color: $text-primary;
        border-bottom: 2px solid $border-01;
        white-space: nowrap;
        cursor: pointer;
        transition: background-color $transition-fast;

        &:hover {
            background-color: color.adjust($bg-secondary, $lightness: -3%);
        }

        &.sortable {
            position: relative;
            padding-right: 2.5rem;

            &::after {
                content: '↕';
                position: absolute;
                right: $margin-s;
                top: 50%;
                transform: translateY(-50%);
                opacity: 0.5;
                font-size: $font-size-xs;
                transition: opacity $transition-fast;
            }

            &:hover::after {
                opacity: 0.8;
            }

            &.sort-asc::after {
                content: '↑';
                opacity: 1;
            }

            &.sort-desc::after {
                content: '↓';
                opacity: 1;
            }
        }
    }

    td {
        border-bottom: 1px solid $border-01;

        &:last-child {
            text-align: right;
        }
    }

    tbody tr {
        transition: background-color $transition-fast;

        &:hover {
            background-color: rgba($primary, 0.02);
        }

        &:last-child td {
            border-bottom: none;
        }
    }

    tfoot {

        th,
        td {
            background-color: $bg-secondary;
            font-weight: $font-weight-medium;
        }
    }

    // ============================================================================
    // 테이블 변형
    // ============================================================================

    &-striped {
        tbody tr:nth-of-type(odd) {
            background-color: rgba($bg-secondary, 0.5);

            &:hover {
                background-color: rgba($primary, 0.05);
            }
        }
    }

    &-hover {
        tbody tr:hover {
            background-color: rgba($primary, 0.05);
        }
    }

    &-bordered {

        th,
        td {
            border: 1px solid $border-01;
        }
    }

    &-borderless {

        th,
        td {
            border: none;
        }
    }

    &-sm {

        th,
        td {
            padding: $padding-xs $padding-s;
            font-size: $font-size-s;
        }
    }

    &-lg {

        th,
        td {
            padding: $padding-l $padding-xl;
            font-size: $font-size-m;
        }
    }

    // ============================================================================
    // 테이블 색상 변형
    // ============================================================================

    &-primary {
        th {
            background-color: $primary;
            color: $white;
            border-color: $primary;
        }

        tbody tr:hover {
            background-color: rgba($primary, 0.1);
        }
    }

    &-secondary {
        th {
            background-color: $secondary;
            color: $white;
            border-color: $secondary;
        }

        tbody tr:hover {
            background-color: rgba($secondary, 0.1);
        }
    }

    &-success {
        th {
            background-color: $success;
            color: $white;
            border-color: $success;
        }

        tbody tr:hover {
            background-color: rgba($success, 0.1);
        }
    }

    &-warning {
        th {
            background-color: $warning;
            color: $text-primary;
            border-color: $warning;
        }

        tbody tr:hover {
            background-color: rgba($warning, 0.1);
        }
    }

    &-danger {
        th {
            background-color: $danger;
            color: $white;
            border-color: $danger;
        }

        tbody tr:hover {
            background-color: rgba($danger, 0.1);
        }
    }

    &-info {
        th {
            background-color: $info;
            color: $white;
            border-color: $info;
        }

        tbody tr:hover {
            background-color: rgba($info, 0.1);
        }
    }

    // ============================================================================
    // 테이블 정렬
    // ============================================================================

    &-centered {

        th,
        td {
            text-align: center;
        }
    }

    &-right {

        th,
        td {
            text-align: right;
        }
    }

    // ============================================================================
    // 테이블 유틸리티
    // ============================================================================

    &-fixed {
        table-layout: fixed;
    }

    &-auto {
        table-layout: auto;
    }

    &-compact {

        th,
        td {
            padding: $padding-xs;
            font-size: $font-size-xs;
        }
    }

    &-expanded {

        th,
        td {
            padding: $padding-xl $padding-xxl;
            font-size: $font-size-m;
        }
    }
}

// ============================================================================
// 테이블 반응형
// ============================================================================

.dewp-table-responsive {
    display: block;
    width: 100%;
    overflow-x: auto;
    -webkit-overflow-scrolling: touch;

    .dewp-table {
        margin-bottom: 0;
    }
}

// ============================================================================
// 폼 테이블
// ============================================================================

.dewp-form-table {
    margin-bottom: $margin-l;

    th {
        width: 160px;
        padding: $padding-s 0;
        font-weight: $font-weight-semibold;
        color: $text-primary;
        text-align: left;
        vertical-align: top;
    }

    td {
        padding: $padding-s;
        vertical-align: top;

        &:last-child {
            padding-right: 0;
        }
    }

    tr:last-child {
        border-bottom: none;
    }

    textarea {
        resize: vertical;
    }

    input[type="checkbox"] {
        margin-right: $margin-s;
    }

    .description {
        font-size: $font-size-xs;
        color: $text-muted;
        margin-top: $margin-xs;
        line-height: $line-height-base;
    }
}

// ============================================================================
// 반응형 테이블
// ============================================================================

@include respond-below(md) {
    .dewp-table-responsive {
        .dewp-table {
            min-width: 600px;
        }
    }

    .dewp-form-table {

        th,
        td {
            display: block;
            width: 100%;
            text-align: left;
        }

        th {
            padding-bottom: $padding-xs;
            border-bottom: 1px solid $border-01;
        }

        td {
            padding-top: $padding-s;
            padding-bottom: $padding-l;
        }
    }
}