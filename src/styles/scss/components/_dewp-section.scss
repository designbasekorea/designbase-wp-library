/**
 * Section Component
 * 워드프레스 어드민 페이지 섹션 영역
 */
@use "../basic/index" as *;

.dewp-section {
    background: $bg-primary;
    border: 1px solid $border-01;
    border-radius: $radius-l;
    margin-bottom: $margin-xl;
    overflow: hidden;

    // 섹션 헤더 영역
    .dewp-section-header {
        display: flex;
        align-items: center;
        justify-content: space-between;
        padding: $padding-l $padding-xl;
        background: $bg-secondary;
        border-bottom: 1px solid $border-01;

        // 기본적으로 좌우 배치 (데스크톱)
        // 작은 화면에서만 세로 배치
        @include respond-below(sm) {
            flex-direction: column;
            align-items: flex-start;
            gap: $margin-m;
        }

        .dewp-section-title-area {
            flex: 1;
            min-width: 0;

            .dewp-section-title {
                font-size: $font-size-l;
                font-weight: $font-weight-semibold;
                color: $text-primary;
                margin: 0 0 $margin-xs 0;
                line-height: 1.3;

                // 아이콘이 있는 경우
                &.dewp-section-title-with-icon {
                    display: flex;
                    align-items: center;
                    gap: $margin-s;

                    .dewp-section-icon {
                        font-size: $font-size-l;
                        color: $primary;
                    }
                }

                // 제목 크기 변형
                &.dewp-section-title-sm {
                    font-size: $font-size-base;
                }

                &.dewp-section-title-lg {
                    font-size: $font-size-l;
                }

                &.dewp-section-title-xl {
                    font-size: $font-size-xxl;
                }
            }

            .dewp-section-description {
                font-size: $font-size-s;
                color: $text-secondary;
                margin: 0;
                line-height: 1.4;
                max-width: 500px;
            }
        }

        .dewp-section-actions {
            display: flex;
            align-items: center;
            gap: $margin-s;
            flex-shrink: 0;

            @include respond-below(sm) {
                width: 100%;
                justify-content: flex-end;
                flex-wrap: wrap;
            }
        }
    }

    // 섹션 콘텐츠 영역
    .dewp-section-content {
        padding: $padding-xl;

        // 콘텐츠가 없는 경우
        &.dewp-section-content-empty {
            text-align: center;
            padding: $padding-xxl $padding-xl;
            color: $text-secondary;

            .dewp-section-empty-icon {
                font-size: $font-size-xxxl;
                color: $text-light;
                margin-bottom: $margin-m;
            }

            .dewp-section-empty-text {
                font-size: $font-size-base;
                margin-bottom: $margin-m;
            }

            .dewp-section-empty-actions {
                display: flex;
                justify-content: center;
                gap: $margin-s;
            }
        }

        // 콘텐츠 크기 변형
        &.dewp-section-content-sm {
            padding: $padding-m;
        }

        &.dewp-section-content-lg {
            padding: $padding-xl;
        }

        &.dewp-section-content-xl {
            padding: $padding-xxl;
        }
    }

    // 섹션 푸터 영역
    .dewp-section-footer {
        display: flex;
        align-items: center;
        justify-content: space-between;
        padding: $padding-m $padding-xl;
        background: $bg-secondary;
        border-top: 1px solid $border-01;

        @include respond-below(sm) {
            flex-direction: column;
            gap: $margin-s;
            align-items: stretch;
        }

        .dewp-section-footer-left {
            display: flex;
            align-items: center;
            gap: $margin-m;
            font-size: $font-size-s;
            color: $text-secondary;

            .dewp-section-footer-info {
                display: flex;
                align-items: center;
                gap: $margin-xs;

                .dewp-section-footer-icon {
                    font-size: $font-size-s;
                }
            }
        }

        .dewp-section-footer-right {
            display: flex;
            align-items: center;
            gap: $margin-s;

            @include respond-below(sm) {
                justify-content: center;
            }
        }
    }

    // 섹션 상태별 스타일
    &.dewp-section-collapsible {
        .dewp-section-header {
            cursor: pointer;
            user-select: none;
            transition: background-color $transition-base;

            &:hover {
                background: $bg-muted;
            }

            .dewp-section-toggle {
                display: flex;
                align-items: center;
                gap: $margin-s;

                .dewp-section-toggle-icon {
                    transition: transform $transition-base;
                    font-size: $font-size-s;
                    color: $text-secondary;
                }
            }
        }

        &.dewp-section-collapsed {
            .dewp-section-content {
                display: none;
            }

            .dewp-section-toggle-icon {
                transform: rotate(-90deg);
            }
        }
    }

    // 섹션 테마별 스타일
    &.dewp-section-primary {
        border-color: $primary;

        .dewp-section-header {
            background: rgba($primary, 0.05);
            border-bottom-color: rgba($primary, 0.2);
        }

        .dewp-section-title {
            color: $primary;
        }
    }

    &.dewp-section-success {
        border-color: $success;

        .dewp-section-header {
            background: rgba($success, 0.05);
            border-bottom-color: rgba($success, 0.2);
        }

        .dewp-section-title {
            color: $success;
        }
    }

    &.dewp-section-warning {
        border-color: $warning;

        .dewp-section-header {
            background: rgba($warning, 0.05);
            border-bottom-color: rgba($warning, 0.2);
        }

        .dewp-section-title {
            color: $warning;
        }
    }

    &.dewp-section-danger {
        border-color: $danger;

        .dewp-section-header {
            background: rgba($danger, 0.05);
            border-bottom-color: rgba($danger, 0.2);
        }

        .dewp-section-title {
            color: $danger;
        }
    }

    // 섹션 크기 변형
    &.dewp-section-sm {
        .dewp-section-header {
            padding: $padding-m $padding-l;
        }

        .dewp-section-content {
            padding: $padding-m;
        }

        .dewp-section-footer {
            padding: $padding-s $padding-l;
        }
    }

    &.dewp-section-lg {
        .dewp-section-header {
            padding: $padding-xl $padding-xxl;
        }

        .dewp-section-content {
            padding: $padding-xl;
        }

        .dewp-section-footer {
            padding: $padding-l $padding-xxl;
        }
    }

    // 섹션 스타일 변형
    &.dewp-section-bordered {
        border-width: 2px;
    }

    &.dewp-section-shadow {
        box-shadow: $shadow-sm;
    }

    &.dewp-section-shadow-lg {
        box-shadow: $shadow-lg;
    }

    &.dewp-section-rounded {
        border-radius: $radius-xxl;
    }

    &.dewp-section-flat {
        border-radius: 0;
    }
}

// 섹션 그룹 (여러 섹션을 묶을 때)
.dewp-section-group {
    .dewp-section {
        margin-bottom: $spacing-4;

        &:last-child {
            margin-bottom: 0;
        }

        // 연속된 섹션 간의 경계선 처리
        &:not(:last-child) {
            border-bottom-left-radius: 0;
            border-bottom-right-radius: 0;
        }

        &:not(:first-child) {
            border-top-left-radius: 0;
            border-top-right-radius: 0;
            border-top: none;
        }
    }
}

// 섹션 내부 요소들의 유틸리티 클래스
.dewp-section-divider {
    width: 100%;
    height: 1px;
    background: $border-01;
    margin: $spacing-3 0;
}

.dewp-section-spacer {
    flex: 1;
}

// 섹션 반응형 유틸리티
@include respond-below(sm) {
    .dewp-section-responsive {
        .dewp-section-header {
            .dewp-section-actions {
                order: -1;
                margin-bottom: $spacing-3;
            }
        }
    }
}