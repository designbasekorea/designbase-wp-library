<!DOCTYPE html>
<html lang="ko">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>DEWP ê°„ë‹¨ í…ŒìŠ¤íŠ¸</title>
  <link rel="stylesheet" href="../dist/css/dewp.min.css">
  <style>
    body {
      padding: 20px;
      font-family: Arial, sans-serif;
    }

    .test-btn {
      margin: 10px;
      padding: 10px 20px;
    }

    .status {
      margin: 10px 0;
      padding: 10px;
      background: #f0f0f0;
    }
  </style>
</head>

<body>
  <h1>ğŸš€ DEWP ë¼ì´ë¸ŒëŸ¬ë¦¬ ê°„ë‹¨ í…ŒìŠ¤íŠ¸</h1>

  <div>
    <button class="test-btn dewp-btn dewp-btn-primary" onclick="testToast()">í† ìŠ¤íŠ¸ í…ŒìŠ¤íŠ¸</button>
    <button class="test-btn dewp-btn dewp-btn-success" onclick="testModal()">ëª¨ë‹¬ í…ŒìŠ¤íŠ¸</button>
    <button class="test-btn dewp-btn dewp-btn-info" onclick="testDropdown()">ë“œë¡­ë‹¤ìš´ í…ŒìŠ¤íŠ¸</button>
    <button class="test-btn dewp-btn dewp-btn-secondary" onclick="testToggle()">í† ê¸€ í…ŒìŠ¤íŠ¸</button>
    <button class="test-btn dewp-btn dewp-btn-warning" onclick="checkLibrary()">ë¼ì´ë¸ŒëŸ¬ë¦¬ í™•ì¸</button>
  </div>

  <div class="status" id="status">ìƒíƒœ: ëŒ€ê¸° ì¤‘...</div>

  <script src="../dist/js/dewp.min.js"></script>
  <script>
    function checkLibrary() {
      const status = document.getElementById('status');

      console.log('ğŸ” DEWP ê°ì²´ í™•ì¸ ì¤‘...');
      console.log('window.DEWP:', window.DEWP);
      console.log('window.DEWP.DEWP:', window.DEWP?.DEWP);
      console.log('window ê°ì²´ì˜ ëª¨ë“  ì†ì„±:', Object.keys(window).filter(key => key.includes('DEWP')));

      if (window.DEWP && window.DEWP.DEWP) {
        const functions = Object.keys(window.DEWP.DEWP);
        status.innerHTML = `
                    <strong>âœ… DEWP ë¼ì´ë¸ŒëŸ¬ë¦¬ ë¡œë“œ ì„±ê³µ!</strong><br>
                    ì‚¬ìš© ê°€ëŠ¥í•œ í•¨ìˆ˜ë“¤: ${functions.join(', ')}
                `;
        console.log('DEWP ê°ì²´:', window.DEWP.DEWP);
        console.log('ì‚¬ìš© ê°€ëŠ¥í•œ í•¨ìˆ˜ë“¤:', functions);
      } else {
        status.innerHTML = '<strong>âŒ DEWP ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.</strong>';
        console.log('DEWP ê°ì²´ê°€ ì—†ìŠµë‹ˆë‹¤.');
        console.log('ì „ì²´ window ê°ì²´:', window);
      }
    }

    function testToast() {
      console.log('ğŸ”” í† ìŠ¤íŠ¸ í…ŒìŠ¤íŠ¸ ì‹œì‘...');
      console.log('window.DEWP:', window.DEWP);
      console.log('window.DEWP.DEWP:', window.DEWP?.DEWP);
      console.log('window.DEWP.DEWP.showToast:', window.DEWP?.DEWP?.showToast);

      if (window.DEWP && window.DEWP.DEWP && window.DEWP.DEWP.showToast) {
        window.DEWP.DEWP.showToast('í† ìŠ¤íŠ¸ í…ŒìŠ¤íŠ¸ ì„±ê³µ!', 'success');
        document.getElementById('status').innerHTML = 'í† ìŠ¤íŠ¸ë¥¼ í‘œì‹œí–ˆìŠµë‹ˆë‹¤.';
      } else {
        alert('í† ìŠ¤íŠ¸ í•¨ìˆ˜ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.');
      }
    }

    function testModal() {
      console.log('ğŸªŸ ëª¨ë‹¬ í…ŒìŠ¤íŠ¸ ì‹œì‘...');
      console.log('window.DEWP:', window.DEWP);
      console.log('window.DEWP.DEWP:', window.DEWP?.DEWP);
      console.log('window.DEWP.DEWP.showModal:', window.DEWP?.DEWP?.showModal);

      if (window.DEWP && window.DEWP.DEWP && window.DEWP.DEWP.showModal) {
        window.DEWP.DEWP.showModal({
          title: 'í…ŒìŠ¤íŠ¸ ëª¨ë‹¬',
          content: 'ëª¨ë‹¬ì´ ì œëŒ€ë¡œ ì‘ë™í•©ë‹ˆë‹¤!',
          size: 'md'
        });
        document.getElementById('status').innerHTML = 'ëª¨ë‹¬ì„ í‘œì‹œí–ˆìŠµë‹ˆë‹¤.';
      } else {
        alert('ëª¨ë‹¬ í•¨ìˆ˜ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.');
      }
    }

    // ë“œë¡­ë‹¤ìš´ í…ŒìŠ¤íŠ¸
    function testDropdown() {
      console.log('ğŸ”½ ë“œë¡­ë‹¤ìš´ í…ŒìŠ¤íŠ¸ ì‹œì‘...');
      console.log('window.DEWP.DEWP:', window.DEWP?.DEWP);
      console.log('window.DEWP.DEWP.createDropdown:', window.DEWP?.DEWP?.createDropdown);

      if (window.DEWP && window.DEWP.DEWP && window.DEWP.DEWP.createDropdown) {
        // ë“œë¡­ë‹¤ìš´ ìƒì„±
        const dropdownId = window.DEWP.DEWP.createDropdown({
          trigger: document.querySelector('.dewp-btn-info'),
          content: `
            <div style="padding: 10px;">
              <div style="padding: 8px 12px; cursor: pointer; border-bottom: 1px solid #eee;">ë©”ë‰´ 1</div>
              <div style="padding: 8px 12px; cursor: pointer; border-bottom: 1px solid #eee;">ë©”ë‰´ 2</div>
              <div style="padding: 8px 12px; cursor: pointer;">ë©”ë‰´ 2</div>
            </div>
          `,
          position: 'bottom'
        });

        // ë“œë¡­ë‹¤ìš´ í‘œì‹œ
        window.DEWP.DEWP.showDropdown(dropdownId);
        document.getElementById('status').innerHTML = 'ë“œë¡­ë‹¤ìš´ì„ ìƒì„±í•˜ê³  í‘œì‹œí–ˆìŠµë‹ˆë‹¤. (ID: ' + dropdownId + ')';
      } else {
        alert('ë“œë¡­ë‹¤ìš´ í•¨ìˆ˜ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.');
      }
    }

    // í† ê¸€ í…ŒìŠ¤íŠ¸
    function testToggle() {
      console.log('ğŸ”„ í† ê¸€ í…ŒìŠ¤íŠ¸ ì‹œì‘...');
      console.log('window.DEWP.DEWP:', window.DEWP?.DEWP);
      console.log('window.DEWP.DEWP.toggleClass:', window.DEWP?.DEWP?.toggleClass);

      if (window.DEWP && window.DEWP.DEWP && window.DEWP.DEWP.toggleClass) {
        const statusEl = document.getElementById('status');

        // í´ë˜ìŠ¤ í† ê¸€
        window.DEWP.DEWP.toggleClass(statusEl, 'active');

        // í˜„ì¬ ìƒíƒœ í™•ì¸
        const isActive = window.DEWP.DEWP.hasClass(statusEl, 'active');
        document.getElementById('status').innerHTML = 'í† ê¸€ í…ŒìŠ¤íŠ¸ ì™„ë£Œ! í˜„ì¬ ìƒíƒœ: ' + (isActive ? 'í™œì„±í™”' : 'ë¹„í™œì„±í™”');

        // 2ì´ˆ í›„ ì›ë˜ëŒ€ë¡œ ë³µì›
        setTimeout(() => {
          window.DEWP.DEWP.removeClass(statusEl, 'active');
        }, 2000);
      } else {
        alert('í† ê¸€ í•¨ìˆ˜ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.');
      }
    }

    // í˜ì´ì§€ ë¡œë“œ ì‹œ ìë™ìœ¼ë¡œ ë¼ì´ë¸ŒëŸ¬ë¦¬ í™•ì¸
    window.addEventListener('load', checkLibrary);
  </script>
</body>

</html>