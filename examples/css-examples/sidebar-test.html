<!DOCTYPE html>
<html lang="ko">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>DEWP Sidebar 테스트 - 워드프레스 관리자 페이지 스타일</title>
  <link rel="stylesheet" href="../../dist/css/dewp.min.css">
  <style>
    body {
      margin: 0;
      padding: 0;
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif;
      background: #f1f1f1;
    }

    .main-content {
      margin-left: 250px;
      padding: 20px;
      min-height: 100vh;
      background: #fff;
    }

    .content-header {
      background: #fff;
      padding: 20px;
      margin: -20px -20px 20px;
      border-bottom: 1px solid #ddd;
    }

    .content-title {
      margin: 0;
      font-size: 24px;
      color: #333;
    }

    .content-description {
      margin: 10px 0 0;
      color: #666;
    }

    .demo-section {
      background: #fff;
      padding: 20px;
      margin-bottom: 20px;
      border: 1px solid #ddd;
      border-radius: 4px;
    }

    .demo-section h3 {
      margin: 0 0 15px;
      color: #333;
    }

    .demo-buttons {
      display: flex;
      gap: 10px;
      flex-wrap: wrap;
    }

    .demo-button {
      padding: 8px 16px;
      background: #0073aa;
      color: #fff;
      border: none;
      border-radius: 4px;
      cursor: pointer;
      font-size: 14px;
    }

    .demo-button:hover {
      background: #005a87;
    }

    .demo-button.secondary {
      background: #6c757d;
    }

    .demo-button.secondary:hover {
      background: #545b62;
    }

    .demo-button.danger {
      background: #dc3545;
    }

    .demo-button.danger:hover {
      background: #c82333;
    }

    .mobile-toggle {
      display: none;
      position: fixed;
      top: 20px;
      left: 20px;
      z-index: 1001;
      background: #0073aa;
      color: #fff;
      border: none;
      padding: 10px;
      border-radius: 4px;
      cursor: pointer;
    }

    @media (max-width: 768px) {
      .main-content {
        margin-left: 0;
      }

      .mobile-toggle {
        display: block;
      }
    }

    .code-block {
      background: #f8f9fa;
      border: 1px solid #e9ecef;
      border-radius: 4px;
      padding: 15px;
      margin: 15px 0;
      font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;
      font-size: 13px;
      line-height: 1.4;
      overflow-x: auto;
    }

    .status-info {
      background: #d1ecf1;
      border: 1px solid #bee5eb;
      color: #0c5460;
      padding: 10px;
      border-radius: 4px;
      margin: 15px 0;
    }
  </style>
</head>

<body>
  <!-- 모바일 토글 버튼 -->
  <button class="mobile-toggle" onclick="toggleMobileSidebar()">
    <svg width="20" height="20" viewBox="0 0 24 24">
      <path fill="currentColor" d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z" />
    </svg>
  </button>

  <!-- 메인 콘텐츠 -->
  <div class="main-content">
    <div class="content-header">
      <h1 class="content-title">DEWP Sidebar 테스트</h1>
      <p class="content-description">워드프레스 관리자 페이지 스타일의 사이드바 컴포넌트</p>
    </div>

    <div class="demo-section">
      <h3>사이드바 기능 테스트</h3>
      <div class="demo-buttons">
        <button class="demo-button" onclick="testAddGroup()">새 그룹 추가</button>
        <button class="demo-button" onclick="testAddMenuItem()">메뉴 아이템 추가</button>
        <button class="demo-button" onclick="testAddDivider()">구분선 추가</button>
        <button class="demo-button secondary" onclick="testRemoveMenuItem()">메뉴 아이템 제거</button>
        <button class="demo-button danger" onclick="testDestroySidebar()">사이드바 제거</button>
      </div>
    </div>

    <div class="demo-section">
      <h3>사이드바 상태</h3>
      <div class="status-info">
        <strong>활성 메뉴 ID:</strong> <span id="active-menu-id">없음</span><br>
        <strong>사이드바 요소:</strong> <span id="sidebar-element">없음</span>
      </div>
    </div>

    <div class="demo-section">
      <h3>사용법 예제</h3>
      <div class="code-block">
        // 기본 사이드바 생성
        const sidebar = new window.DEWP.DEWPSidebar({
        title: '플러그인 관리',
        subtitle: 'DesignBase Plugin Suite',
        groups: [
        {
        id: 'main',
        title: '주요 기능',
        items: [
        {
        id: 'dashboard',
        text: '대시보드',
        icon: '📊',
        url: '#dashboard'
        },
        {
        id: 'settings',
        text: '설정',
        icon: '⚙️',
        url: '#settings'
        }
        ]
        }
        ],
        footerText: 'v1.0.0 - DesignBase'
        });

        // 구분선 추가
        sidebar.addDivider('main', 'after');

        // 새 그룹 추가
        sidebar.addGroup({
        id: 'tools',
        title: '도구',
        items: [
        {
        id: 'export',
        text: '내보내기',
        icon: '📤',
        url: '#export'
        }
        ]
        });
      </div>
    </div>

    <div class="demo-section">
      <h3>특징</h3>
      <ul>
        <li><strong>고정 위치:</strong> 페이지 왼쪽에 고정된 사이드바</li>
        <li><strong>메뉴 그룹:</strong> 관련 메뉴들을 그룹으로 구성</li>
        <li><strong>서브메뉴:</strong> 계층적 메뉴 구조 지원</li>
        <li><strong>구분선:</strong> 메뉴 그룹 간 시각적 구분</li>
        <li><strong>아이콘 지원:</strong> 메뉴 아이템에 아이콘 추가 가능</li>
        <li><strong>활성 상태:</strong> 현재 선택된 메뉴 하이라이트</li>
        <li><strong>반응형:</strong> 모바일에서 자동 숨김/표시</li>
        <li><strong>다크모드:</strong> 워드프레스 관리자 페이지와 일치하는 테마</li>
      </ul>
    </div>
  </div>

  <script src="../../dist/js/dewp.min.js"></script>
  <script>
    let sidebarInstance = null;

    // 페이지 로드 시 사이드바 생성
    window.addEventListener('DOMContentLoaded', function () {
      createSidebar();
    });

    // 사이드바 생성
    function createSidebar() {
      sidebarInstance = new window.DEWP.DEWPSidebar({
        title: '플러그인 관리',
        subtitle: 'DesignBase Plugin Suite',
        groups: [
          {
            id: 'main',
            title: '주요 기능',
            items: [
              {
                id: 'dashboard',
                text: '대시보드',
                icon: '📊',
                url: '#dashboard',
                isActive: true
              },
              {
                id: 'settings',
                text: '설정',
                icon: '⚙️',
                url: '#settings'
              },
              {
                id: 'analytics',
                text: '분석',
                icon: '📈',
                url: '#analytics'
              }
            ]
          },
          {
            id: 'content',
            title: '콘텐츠 관리',
            items: [
              {
                id: 'posts',
                text: '게시물',
                icon: '📝',
                url: '#posts'
              },
              {
                id: 'media',
                text: '미디어',
                icon: '🖼️',
                url: '#media'
              },
              {
                id: 'comments',
                text: '댓글',
                icon: '💬',
                url: '#comments'
              }
            ]
          },
          {
            id: 'tools',
            title: '도구',
            items: [
              {
                id: 'export',
                text: '내보내기',
                icon: '📤',
                url: '#export'
              },
              {
                id: 'import',
                text: '가져오기',
                icon: '📥',
                url: '#import'
              },
              {
                id: 'backup',
                text: '백업',
                icon: '💾',
                url: '#backup'
              }
            ]
          },
          {
            id: 'advanced',
            title: '고급 설정',
            items: [
              {
                id: 'api',
                text: 'API 설정',
                icon: '🔌',
                url: '#api'
              },
              {
                id: 'logs',
                text: '로그',
                icon: '📋',
                url: '#logs'
              },
              {
                id: 'debug',
                text: '디버그',
                icon: '🐛',
                url: '#debug'
              }
            ]
          }
        ],
        footerText: 'v1.0.0 - DesignBase'
      });

      updateStatus();
    }

    // 새 그룹 추가 테스트
    function testAddGroup() {
      if (!sidebarInstance) return;

      const newGroup = {
        id: 'test-group-' + Date.now(),
        title: '테스트 그룹',
        items: [
          {
            id: 'test-item',
            text: '테스트 아이템',
            icon: '🧪',
            url: '#test'
          }
        ]
      };

      sidebarInstance.addGroup(newGroup);
      updateStatus();
    }

    // 메뉴 아이템 추가 테스트
    function testAddMenuItem() {
      if (!sidebarInstance) return;

      const newItem = {
        id: 'new-item-' + Date.now(),
        text: '새 메뉴',
        icon: '✨',
        url: '#new'
      };

      sidebarInstance.addMenuItem('main', newItem);
      updateStatus();
    }

    // 구분선 추가 테스트
    function testAddDivider() {
      if (!sidebarInstance) return;
      sidebarInstance.addDivider('main', 'after');
    }

    // 메뉴 아이템 제거 테스트
    function testRemoveMenuItem() {
      if (!sidebarInstance) return;
      sidebarInstance.removeMenuItem('main', 'analytics');
      updateStatus();
    }

    // 사이드바 제거 테스트
    function testDestroySidebar() {
      if (!sidebarInstance) return;
      sidebarInstance.destroy();
      sidebarInstance = null;
      updateStatus();
    }

    // 모바일 사이드바 토글
    function toggleMobileSidebar() {
      if (sidebarInstance) {
        sidebarInstance.toggle();
      }
    }

    // 상태 업데이트
    function updateStatus() {
      if (sidebarInstance) {
        document.getElementById('active-menu-id').textContent =
          sidebarInstance.getActiveItemId() || '없음';
        document.getElementById('sidebar-element').textContent =
          sidebarInstance.getElement() ? '존재함' : '없음';
      } else {
        document.getElementById('active-menu-id').textContent = '없음';
        document.getElementById('sidebar-element').textContent = '없음';
      }
    }

    // 주기적으로 상태 업데이트
    setInterval(updateStatus, 1000);
  </script>
</body>

</html>